import{_ as I}from"./slidev/VClicks-JGX5ooFd.js";import{d as W,o as a,b as r,F as L,ad as $,i as c,e,x as _,c as x,k as u,a6 as o,l as n,q as O,s as R,A as i}from"./modules/vue-DJcEiztt.js";import{u as p,f as k}from"./slidev/context-DU5YJk2D.js";import{I as v}from"./slidev/default-Cu-rJO8A.js";import"./index-0Gy_dhNt.js";import"./modules/shiki-B18_m8lD.js";const g={class:"flex"},B={class:"text-gray"},w=W({__name:"WordIndex",props:{deleted:{default:[]},added:{default:[]},word:{default:""},startIndex:{default:0}},setup(m){return p(),(t,f)=>(a(),r("div",g,[(a(!0),r(L,null,$(t.word,(l,s)=>(a(),r("div",{key:s,class:c([{"text-red":t.deleted.includes(s+t.startIndex),"text-cyan":t.added.includes(s+t.startIndex)}])},[e("div",{class:c([{"decoration-line-through":t.deleted.includes(s+t.startIndex)}])},_(l),3),e("div",B,_(s+t.startIndex),1)],2))),128))]))}}),C=e("h2",null,"脏路径问题",-1),y=e("code",null,"L",-1),N=e("code",null,"Insert(3,L)",-1),A=e("code",null,"Del(2)",-1),P=e("p",null,"当双方将数据分享给对方后",-1),S=e("p",null,"用户A： WORD → Insert(3, L) → WORLD → Del(2) →WOLD",-1),T=e("p",null,"用户B: WORD → Del(2) → WOD → INSERT(3,L) →WODL (x)",-1),V=e("p",null,"用户B先进行的删除操作导致了它后面数据的索引发生变化，那么基于同步过来的操作直接应用就会出现，这种情况称为脏路径问题",-1),M={__name:"8",setup(m){const{$slidev:t,$nav:f,$clicksContext:l,$clicks:s,$page:z,$renderContext:E,$frontmatter:h}=p();return(F,b)=>{const d=w,D=I;return a(),x(v,O(R(i(k)(i(h),7))),{default:u(()=>[C,e("p",null,[o("原始数据： "),n(d,{word:"WORD"})]),e("p",null,[o("用户A在索引3后面添加"),y,o(),N,o(),n(d,{word:"WORLD",added:[3]})]),e("p",null,[o("用户B在删除了索引2的字符 "),A,o(" , 也就是R "),n(d,{word:"WORD",deleted:[2]})]),n(D,null,{default:u(()=>[P,S,T,V]),_:1})]),_:1},16)}}};export{M as default};
